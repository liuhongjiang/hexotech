<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Setup your own CA | Andrew&#39;s Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Recently, in our project we need enable tokenless auth for keystone, which means client or service can use client certificate to auth with out the token generated by keystone.
Following steps are the">
<meta property="og:type" content="article">
<meta property="og:title" content="Setup your own CA">
<meta property="og:url" content="http://liuhongjiang.github.io/2016/12/23/setup-your-own-ca/index.html">
<meta property="og:site_name" content="Andrew's Blog">
<meta property="og:description" content="Recently, in our project we need enable tokenless auth for keystone, which means client or service can use client certificate to auth with out the token generated by keystone.
Following steps are the">
<meta property="og:updated_time" content="2016-12-30T03:29:51.932Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Setup your own CA">
<meta name="twitter:description" content="Recently, in our project we need enable tokenless auth for keystone, which means client or service can use client certificate to auth with out the token generated by keystone.
Following steps are the">
  
    <link rel="alternative" href="/atom.xml" title="Andrew&#39;s Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/hexotech/images/favicon.png">
  
  <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/hexotech/css/style.css" type="text/css">
  

</head>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/hexotech/" id="logo">Andrew&#39;s Blog</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/hexotech/">Home</a>
        
          <a class="main-nav-link" href="/hexotech/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://liuhongjiang.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-setup-your-own-ca" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/hexotech/2016/12/23/setup-your-own-ca/" class="article-date">
  <time datetime="2016-12-23T00:40:49.000Z" itemprop="datePublished">2016-12-23</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/hexotech/categories/openssl/">openssl</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Setup your own CA
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Recently, in our project we need enable tokenless auth for keystone, which means client or service can use client certificate to auth with out the token generated by keystone.</p>
<p>Following steps are the experiment I made on my development environment, and the os is centos7, my user account is andrew, you should change it to your account accordingly.</p>
<h2 id="setup-my-own-ca">Setup my own CA</h2>
<p>Fristly, we need setup a CA to sign our client certificate.</p>
<p>Install openssl:</p>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo yum <span class="keyword">install</span> openssl</span><br></pre></td></tr></table></figure>
<p>After openssl is installed, find the openssl conf file, and change the data directory of the CA.</p>
<figure class="highlight inform7"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">[root@localhost ~]</span># locate openssl.cnf</span><br><span class="line">/etc/pki/tls/openssl.cnf</span><br><span class="line">/usr/share/<span class="keyword">man</span>/man5/openssl.cnf.5ssl.gz</span><br></pre></td></tr></table></figure>
<p>Change the dir configuration in the openssl.cnf file:</p>
<figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">######</span><span class="comment">######</span><span class="comment">######</span><span class="comment">######</span><span class="comment">######</span><span class="comment">######</span><span class="comment">######</span><span class="comment">######</span><span class="comment">######</span><span class="comment">######</span><span class="comment">######</span><span class="comment">##</span></span><br><span class="line">[ ca ]</span><br><span class="line">default_ca      = CA_default            <span class="comment"># The default ca section</span></span><br><span class="line"></span><br><span class="line"><span class="comment">######</span><span class="comment">######</span><span class="comment">######</span><span class="comment">######</span><span class="comment">######</span><span class="comment">######</span><span class="comment">######</span><span class="comment">######</span><span class="comment">######</span><span class="comment">######</span><span class="comment">######</span><span class="comment">##</span></span><br><span class="line">[ CA_default ]</span><br><span class="line"></span><br><span class="line"><span class="comment">#dir            = /etc/pki/CA           # Where everything is kept</span></span><br><span class="line">dir             = /home/andrew/CA       <span class="comment"># Where everything is kept</span></span><br></pre></td></tr></table></figure>
<a id="more"></a>
<p>Then you should create related diretorys in <code>/home/andrew/CA</code> to store related files, such as CSR(Certificate Signing Request) file, private key file, or certificates.</p>
<figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[andrew<span class="variable">@localhost</span> <span class="constant">CA]</span><span class="variable">$ </span>pwd</span><br><span class="line">/home/andrew/<span class="constant">CA</span></span><br><span class="line">[andrew<span class="variable">@localhost</span> <span class="constant">CA]</span><span class="variable">$ </span>mkdir certs newcerts private crl</span><br><span class="line">[andrew<span class="variable">@localhost</span> <span class="constant">CA]</span><span class="variable">$ </span>touch index.txt</span><br><span class="line">[andrew<span class="variable">@localhost</span> <span class="constant">CA]</span><span class="variable">$ </span>echo <span class="number">01</span> &gt; serial</span><br></pre></td></tr></table></figure>
<p>This directory structure is very similar with the default data directory of CA:</p>
<figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[andrew@localhost <span class="keyword">CA</span>]$ <span class="keyword">pwd</span></span><br><span class="line">/etc/pki/<span class="keyword">CA</span></span><br><span class="line">[andrew@localhost <span class="keyword">CA</span>]$ <span class="keyword">ls</span></span><br><span class="line">certs  crl  newcerts  private</span><br></pre></td></tr></table></figure>
<p><code>certs</code> is for signed certificates, <code>newcerts</code> is for new generated certificates, <code>private</code> is for private key files, <code>crl</code> is for revocation certificates.</p>
<p>Before generating any certificates, we need generated an random seed.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">openssl rand -out <span class="keyword">private</span>/.rand <span class="number">1000</span></span><br></pre></td></tr></table></figure>
<h3 id="generate-root-certificate">generate root certificate</h3>
<ul>
<li>generate private key for root certificate</li>
</ul>
<p>Openssl used PEM(Privacy Enbanced Mail) to store private key. Here is the command to generate the private key.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">openssl genrsa -aes256 -out <span class="keyword">private</span>/cakey.pem <span class="number">1024</span></span><br></pre></td></tr></table></figure>
<p>when executed this command, it will ask you to input a password for your key, you need to remember that, because openssl will ask you to input that password when it using this key file.</p>
<ul>
<li>generate csr</li>
</ul>
<p>The CSR(Certificate Signing Request) is the file you send to CA to generate your Certificate, here is how to generate it:</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">openssl req -<span class="keyword">new</span> -key <span class="keyword">private</span>/cakey.pem -<span class="keyword">out</span> <span class="keyword">private</span>/ca.csr -subj \</span><br><span class="line">  <span class="string">"/C=CN/ST=myprovince/L=mycity/O=myorganization/OU=mygroup/CN=myname"</span></span><br></pre></td></tr></table></figure>
<ul>
<li>generate root certificate</li>
</ul>
<p>here is the command, and the root ceritficate is stored at <code>certs/ca.cer</code>:</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">openssl x509 -req -days <span class="number">365</span> -sha1 -extensions v3_ca -signkey \</span><br><span class="line">  private/cakey<span class="class">.pem</span> -<span class="keyword">in</span> private/ca<span class="class">.csr</span> -out certs/ca.cer</span><br></pre></td></tr></table></figure>
<p>here file extension suffix is <code>cer</code>, and for some certificate file, the extension suffix is <code>crt</code>, actually, file content for this two kind file are representing certificate data. the extension only related how to open it on the windows. you can check it here: <a href="http://stackoverflow.com/questions/642284/apache-with-ssl-how-to-convert-cer-to-crt-certificates" target="_blank" rel="external">How to convert CER to CRT certificates?</a></p>
<h3 id="generate-server-certificate">generate server certificate</h3>
<ul>
<li>generate key file</li>
</ul>
<figure class="highlight axapta"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">openssl genrsa -aes256 -out <span class="keyword">private</span>/<span class="keyword">server</span>-key.pem <span class="number">1024</span></span><br></pre></td></tr></table></figure>
<p>like the root certificate key file, you also need to remember the password for this key file.</p>
<ul>
<li>generate csr</li>
</ul>
<p>Edit an conf file, and use it for openssl to generate server csr, because we need to add <code>subjectAltName</code>, which defines the certificat can be used for multi domains.</p>
<figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">[andrew@localhost CA]$ cat myserver.conf</span><br><span class="line">[req]</span><br><span class="line"><span class="constant">default_bits</span>       = 2048</span><br><span class="line"><span class="constant">distinguished_name</span> = req_distinguished_name</span><br><span class="line"><span class="constant">req_extensions</span>     = v3_req</span><br><span class="line"><span class="constant">x509_extensions</span> = v3_req</span><br><span class="line"></span><br><span class="line">[req_distinguished_name]</span><br><span class="line"><span class="constant">countryName</span>                 = CN</span><br><span class="line"><span class="constant">countryName_default</span>         = GB</span><br><span class="line"><span class="constant">stateOrProvinceName</span>         = Sichuan</span><br><span class="line"><span class="constant">stateOrProvinceName_default</span> = West Midlands</span><br><span class="line"><span class="constant">localityName</span>                = Chengdu</span><br><span class="line"><span class="constant">localityName_default</span>        = Birmingham</span><br><span class="line"><span class="constant">organizationName</span>            = Flying Spaghetti Monster</span><br><span class="line"><span class="constant">organizationName_default</span>    = Example</span><br><span class="line"><span class="constant">commonName</span>                  = Andrew</span><br><span class="line"><span class="constant">commonName_max</span>              = 64</span><br><span class="line">[v3_req]</span><br><span class="line"><span class="constant">subjectAltName</span> = @alt_names</span><br><span class="line"><span class="constant">keyUsage</span> = keyEncipherment, dataEncipherment</span><br><span class="line"><span class="constant">extendedKeyUsage</span> = serverAuth</span><br><span class="line">[alt_names]</span><br><span class="line">DNS.1   = openstack.andrew.com</span><br><span class="line">DNS.2   = dev-openstack.andrew.com</span><br><span class="line">DNS.3   = test-openstack.andrew.com</span><br><span class="line">DNS.4   = local-openstack.andrew.com</span><br></pre></td></tr></table></figure>
<p>then use this command to generate server csr (Certificate Signing Request) file:</p>
<figure class="highlight axapta"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">openssl req -<span class="keyword">new</span> -key <span class="keyword">private</span>/<span class="keyword">server</span>-key.pem -out <span class="keyword">private</span>/<span class="keyword">server</span>.csr -config myserver.conf</span><br></pre></td></tr></table></figure>
<p>using the following command to verify the csr file. <figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">openssl req -noout -<span class="keyword">text</span> -<span class="operator">in</span> <span class="keyword">private</span>/server.csr</span><br></pre></td></tr></table></figure></p>
<ul>
<li>generate server Certificate</li>
</ul>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">openssl x509 -req -days <span class="number">365</span> -sha1 -extfile myserver<span class="class">.conf</span> -extensions v3_req -CA certs/ca<span class="class">.cer</span> -CAkey private/cakey<span class="class">.pem</span> -CAserial ca<span class="class">.srl</span> -CAcreateserial -<span class="keyword">in</span> private/server<span class="class">.csr</span> -out certs/server.cer</span><br></pre></td></tr></table></figure>
<p>please pay attention to this two pramaters <code>-extfile myserver.conf -extensions v3_req</code>, it will use the <code>v3_req</code> section of myserver.conf as cert extentsion, andd add the <code>subjectAltName</code> to the certificate.</p>
<p>using the following command to check the certificate</p>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">openssl req -noout -<span class="type">text</span> -<span class="keyword">in</span> server.cer</span><br></pre></td></tr></table></figure>
<h3 id="generate-client-certificate">generate client certificate</h3>
<ul>
<li><p>generate client private key <figure class="highlight axapta"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">openssl genrsa -aes256 -out <span class="keyword">private</span>/<span class="keyword">client</span>-key.pem <span class="number">1024</span></span><br></pre></td></tr></table></figure></p></li>
<li><p>generate client csr file</p></li>
</ul>
<figure class="highlight axapta"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">openssl req -<span class="keyword">new</span> -key <span class="keyword">private</span>/<span class="keyword">client</span>-key.pem -out <span class="keyword">private</span>/<span class="keyword">client</span>.csr -subj \</span><br><span class="line">  <span class="string">"/C=CN/ST=myprovince/L=mycity/O=myorganization/OU=mygroup/CN=andrew"</span></span><br></pre></td></tr></table></figure>
<ul>
<li>sign client certificate</li>
</ul>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">openssl x509 -req -days <span class="number">365</span> -sha1 -extensions v3_req -CA certs/ca<span class="class">.cer</span> -CAkey private/cakey<span class="class">.pem</span> \</span><br><span class="line">  -CAserial ca<span class="class">.srl</span> -<span class="keyword">in</span> private/client<span class="class">.csr</span> -out certs/client.cer</span><br></pre></td></tr></table></figure>
<h2 id="install-ceritificates">install ceritificates</h2>
<p>After we genenerate all kind of certificates, we need install the CA certificate to our system, because it’s not a trust certificate.</p>
<p>If we want to use the ceritficate for a server, then we need install the CA certificate on our client system.</p>
<p>If we want to use the client certificate for authenticate, for example in apache httpd, we need to config the CA certificate in the httpd configuration file.</p>
<p>This article shows how to install certificate on various system: <a href="http://kb.kerio.com/product/kerio-connect/server-configuration/ssl-certificates/adding-trusted-root-certificates-to-the-server-1605.html" target="_blank" rel="external">Adding trusted root certificates to the server</a></p>
<h2 id="for-python-requests-to-add-ca">for python requests to add CA</h2>
<p>Install the CA certificates on server, it works for the system tools, such as curl, but for the python requests libraray, it needs some extra work.</p>
<p>here in <a href="http://docs.python-requests.org/en/master/user/advanced/#ca-certificates" target="_blank" rel="external">the ca-certificates document of requests</a>, it shows request used the <a href="https://certifi.io" target="_blank" rel="external">certifi</a> to manage CA certificates.</p>
<p>In the <a href="https://github.com/certifi/python-certifi" target="_blank" rel="external">pythone package of certifi</a>, you can find the following documents:</p>
<p>using pip install certifi</p>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ pip <span class="keyword">install</span> certifi</span><br></pre></td></tr></table></figure>
<p>find the path of the cacert.pem file <figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="prompt">&gt;&gt;</span>&gt; import certifi</span><br><span class="line"><span class="prompt">&gt;&gt;</span>&gt; certifi.where()</span><br><span class="line"><span class="string">'/usr/lib/python2.7/site-packages/certifi/cacert.pem'</span></span><br></pre></td></tr></table></figure></p>
<p>then add your own ca file in to that cacert.pem</p>
<figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">cat</span> /home/andrew/<span class="keyword">CA</span>/certs/<span class="keyword">ca</span>.cer &gt;&gt; cacert.pem</span><br></pre></td></tr></table></figure>
<p>then the requests can request the website, which using the certificate signed by your ca.</p>
<h2 id="remove-passowrd-of-the-key-file">remove passowrd of the key file</h2>
<p>The key file is encrypted by the password which you input when you generate it.</p>
<p>If you used this key file for apache, when apache starts, it will ask you to input the password, if you unencrypt the key with openssl, then apache will skip this part.</p>
<p>You’ll need the passphrase for the decryption process: <figure class="highlight d"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># openssl rsa -<span class="keyword">in</span> www.key -<span class="keyword">out</span> <span class="keyword">new</span>.key</span><br></pre></td></tr></table></figure></p>
<p>Now copy the new.key to the www.key file and you’re done. Next time you restart the web server, it should not prompt you for the passphrase.</p>
<h2 id="reference">Reference</h2>
<p>trust ca on system:</p>
<ul>
<li><a href="">https://www.happyassassin.net/2015/01/12/a-note-about-ssltls-trusted-certificate-stores-and-platforms/</a></li>
</ul>
<p>certificate extensions:</p>
<ul>
<li><a href="">http://serverfault.com/questions/9708/what-is-a-pem-file-and-how-does-it-differ-from-other-openssl-generated-key-file</a></li>
<li><a href="">http://info.ssl.com/article.aspx?id=12149</a></li>
</ul>
<p>remove passphrase from key file:</p>
<ul>
<li><a href="">https://www.mnxsolutions.com/apache/removing-a-passphrase-from-an-ssl-key.html</a></li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://liuhongjiang.github.io/hexotech/2016/12/23/setup-your-own-ca/" data-id="cixb80cng0006f0i44f1lcn1s" class="article-share-link">Share</a>
      
        <a href="http://liuhongjiang.github.io/hexotech/2016/12/23/setup-your-own-ca/#disqus_thread" class="article-comment-link">Comments</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/hexotech/2016/12/23/enable-https-and-tokenless-auth-for-keystone/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Enable https and tokenless auth for keystone
        
      </div>
    </a>
  
  
    <a href="/hexotech/2016/10/11/atom-tips/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">atom tips</div>
    </a>
  
</nav>

  
</article>


<section id="comments">
  <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </div>
</section>
</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/hexotech/categories/3rd-nbsp-tools/">3rd&nbsp;tools</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/hexotech/categories/Algorithm/">Algorithm</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/hexotech/categories/C-C/">C/C++</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/hexotech/categories/Data-nbsp-structure/">Data&nbsp;structure</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/hexotech/categories/Fuck-nbsp-GFW/">Fuck&nbsp;GFW</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/hexotech/categories/Language/">Language</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/hexotech/categories/Machine-nbsp-Learning/">Machine&nbsp;Learning</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/hexotech/categories/Vi/">Vi</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/hexotech/categories/git/">git</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/hexotech/categories/hadoop/">hadoop</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/hexotech/categories/javascript/">javascript</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/hexotech/categories/jenkins/">jenkins</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/hexotech/categories/keystone-openstack/">keystone, openstack</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/hexotech/categories/linux/">linux</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/hexotech/categories/math/">math</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/hexotech/categories/octopress/">octopress</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/hexotech/categories/openssl/">openssl</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/hexotech/categories/openstack/">openstack</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/hexotech/categories/paper/">paper</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/hexotech/categories/python/">python</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/hexotech/categories/sqlite/">sqlite</a><span class="category-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/hexotech/archives/2016/12/">December 2016</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/hexotech/archives/2016/10/">October 2016</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/hexotech/archives/2016/09/">September 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/hexotech/archives/2016/05/">May 2016</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/hexotech/archives/2016/01/">January 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/hexotech/archives/2015/12/">December 2015</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/hexotech/archives/2015/11/">November 2015</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/hexotech/archives/2015/10/">October 2015</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/hexotech/archives/2015/09/">September 2015</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/hexotech/archives/2015/08/">August 2015</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/hexotech/archives/2015/06/">June 2015</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/hexotech/archives/2015/05/">May 2015</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/hexotech/archives/2015/04/">April 2015</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/hexotech/archives/2014/05/">May 2014</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/hexotech/archives/2013/11/">November 2013</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/hexotech/archives/2013/08/">August 2013</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/hexotech/archives/2013/02/">February 2013</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/hexotech/archives/2013/01/">January 2013</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/hexotech/archives/2012/12/">December 2012</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/hexotech/archives/2012/11/">November 2012</a><span class="archive-list-count">7</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/hexotech/2016/12/23/enable-https-and-tokenless-auth-for-keystone/">Enable https and tokenless auth for keystone</a>
          </li>
        
          <li>
            <a href="/hexotech/2016/12/23/setup-your-own-ca/">Setup your own CA</a>
          </li>
        
          <li>
            <a href="/hexotech/2016/10/11/atom-tips/">atom tips</a>
          </li>
        
          <li>
            <a href="/hexotech/2016/10/11/vagrant-multiple-vms/">vagrant multiple vms</a>
          </li>
        
          <li>
            <a href="/hexotech/2016/09/23/install-ceph-through-vagrant-on-centos7/">install ceph through vagrant on centos7</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2016 Andrew Liu<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/hexotech/" class="mobile-nav-link">Home</a>
  
    <a href="/hexotech/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    
<script>
  var disqus_shortname = 'andrewliu117';
  
  var disqus_url = 'http://liuhongjiang.github.io/hexotech/2016/12/23/setup-your-own-ca/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="/hexotech/js/jquery-2.1.4.min.js" type="text/javascript"></script>

<!--<script type="text/x-mathjax-config">-->
<!--MathJax.Hub.Config({-->
  <!--tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}-->
<!--});-->
<!--</script>-->
<!--<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">-->
<!--</script>-->


  <link rel="stylesheet" href="/hexotech/fancybox/jquery.fancybox.css" type="text/css">
  <script src="/hexotech/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>


<script src="/hexotech/js/script.js" type="text/javascript"></script>



  </div>
</body>
</html>